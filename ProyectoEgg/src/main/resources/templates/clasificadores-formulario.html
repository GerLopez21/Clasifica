<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <title th:text="|${title} - Clasifica|"></title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<nav th:replace="fragments :: navbar" sec:authorize="hasRole('ADMIN')"></nav>

<body class="container" style="align-items: center; text-align: center; padding-top: 10px; padding-bottom: 50px; 
    background-color: #f5f5f58f;">

    <main class="form-signin" style="width: 300%; max-width: 700px; padding: 15px; margin: auto">

        <!-- <nav th:replace="fragments :: navbar" sec:authorize="hasRole('ADMIN')" ></nav>
    <nav th:replace="fragmentsClasificador :: navbar" sec:authorize="hasRole('CLASIFICADOR')"></nav> -->

        <h1 th:text="${title}"></h1>

        <br />

        <hr class="mb-5 col-xl-12" />

        <div margin-top: 50px>
            <img class="mb-4" th:src="@{../img/Clasifica-Formulario.png}" alt="" height="350">
        </div>

        <form id="formulario" class="needs-validation" th:action="@{/clasificadores/__${action}__}" method="POST"
           autocomplete="off" novalidate>

            <!-- <input type="hidden" th:field="*{id}"/>  fijarse si no genera error -->
            <p th:if="${error != null}" th:text="${error}"><p>
                
            <div
                style="display: flex; flex-direction: row; flex-wrap: wrap; justify-content: center; align-items: center;">
                
                <div class="form-floating mb-3 col-xl-6">
                    <input id="dni" class="form-control" type="number" placeholder="DNI" name="dni"  required />
                    <label for="DNI">DNI</label>
                    <div class="invalid-feedback">El documento es obligatorio</div>
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="fechaNacimiento" class="form-control" type="date" name="fechaNacimiento" />
                    <label for="fechaNacimiento">Fecha de nacimiento</label>
                    <div class="invalid-feedback">La fecha de nacimiento es obligatoria</div>
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="nombre" class="form-control" type="text" placeholder="Nombre" name="nombre" />
                    <label for="Nombre">Nombre</label>
                    <div class="invalid-feedback">El nombre es obligatorio</div>
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="domicilio" class="form-control" type="text" placeholder="Domicilio" name="domicilio" />
                    <label for="Domicilio">Domicilio</label>
                    <div class="invalid-feedback">El domicilio es obligatorio</div>
                   
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="apellido" class="form-control" type="text" placeholder="Apellido" name="apellido" />
                    <label for="Apellido">Apellido</label>
                    <div class="invalid-feedback">El apellido es obligatorio</div>                    
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="instagram" class="form-control" type="text" placeholder="Instagram" name="instagram"/>
                    <label for="Instagram">Instagram</label>
                    <div class="invalid-feedback">El instagram es obligatorio</div>
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="email" class="form-control" type="email"  placeholder="name@example.com" name="email" />
                    <label for="Email">Correo Electronico</label>
                    <div class="invalid-feedback">El Correo Electronico es obligatorio</div>                 
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="telefono" class="form-control" type="number" placeholder="Telefono"
                       name="telefono" />
                    <label for="Telefono">Telefono</label>
                    <div class="invalid-feedback">El telefono es obligatorio</div>                    
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <input id="clave" class="form-control" type="password" placeholder="Email"
                        name="clave" />
                    <label for="clave">Clave</label>
                    <div class="invalid-feedback">La clave es obligatorio</div>                    
                </div>

                <div class="form-floating mb-3 col-xl-6">
                    <select id="rol" class="form-select" aria-label="Elegir rol" name="rol" >
                        <option value="" selected>Elegir rol</option>
                        <option  th:each="rol : ${roles}" th:text="${rol.nombre}" th:value="${rol.id}">
                        </option>
                    </select>
                    <label for="rol">Rol</label>
                </div>
            </div>

            <div class="row">
                <div class="d-grid gap-2">
                    <button class="btn btn-success" type="submit"
                        th:text="${action == 'guardar'} ? 'Crear Clasificador' : 'Guardar'"></button>
                </div>
            </div>

        </form>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>

</html>